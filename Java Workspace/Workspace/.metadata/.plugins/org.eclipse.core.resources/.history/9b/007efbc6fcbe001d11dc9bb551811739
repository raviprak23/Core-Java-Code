package Jdbc_project;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;
import java.sql.Statement;
import java.util.*;

class Databaseconnection {
	static Scanner scan = new Scanner(System.in);
	static Statement stmt = null;
	static String name;

	static final String DB_URL = ("jdbc:postgresql://localhost/company");
	static final String USER = "postgres";
	static final String PASS = "Rp54321@098";

	public static void main(String args[]) throws SQLException {
		Connection table = null;
		validation obj = new validation();
		try {
			table = DriverManager.getConnection(DB_URL, USER, PASS);
			Statement s = table.createStatement();
			System.out.println("Enter database name to create:");
			name = scan.nextLine();
			String db = ("CREATE DATABASE " + name + "");
			s.execute(db);
			System.out.println("Database Created Successfully");

		} catch (Exception e) {
			System.out.println("Database Already Present Create New Database");
			String name = scan.nextLine();
			table = DriverManager.getConnection("jdbc:postgresql://localhost/", "postgres", "Rp54321@098");
			Statement s = table.createStatement();
			String db = ("CREATE DATABASE " + name + "");
			s.execute(db);
			System.out.println("New Database Created Succesfully");
			// e.printStackTrace();
			// System.err.println(e.getClass().getName() + ": " + e.getMessage());
		}
		//obj.main1(stmt, name);

	}
}